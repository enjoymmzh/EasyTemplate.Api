!function(){"use strict";var t={};t.Request=class{constructor(t){this.url=t}async get(t){try{const n=await fetch(this.url+t);return await n.json()}catch(t){console.log(t)}}async post(t,n){try{const e=await fetch(this.url+t,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});return await e}catch(t){console.log(t)}}async delete(t){try{const n=await fetch(this.url+t,{method:"DELETE"});return await n}catch(t){console.log(t)}}async put(t,n){try{const e=await fetch(this.url+t,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(n)});return await e}catch(t){console.log(t)}}};var n=new t.Request("https://fgwuw.com");function e(t,e){return new Promise((function(o,a){n.post(t,e).then((function(t){o(t.json())})).catch((function(t){a(t)}))}))}function o(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{only:!0,handle:function(){}},e=[];"string"==typeof t&&(t=document.querySelector(t)),t&&(a(t)&&!e.includes(t)&&(n.only&&e.push(t),n.handle()),function(t){var n=[document.body,window];function e(t){(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&n.push(t);for(var o=t.children||[],a=0;a<o.length;a++)e(o[a])}e(document.documentElement),n.forEach((function(n){n.addEventListener("scroll",(function(n){t()}))}))}((function(){a(t)&&!e.includes(t)&&(n.only&&e.push(t),n.handle())})))}function a(t){var n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}function i(){return window.localStorage.getItem("adsClientId")||window.localStorage.setItem("adsClientId","xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0;return("x"==t?n:3&n|8).toString(16)}))),window.localStorage.getItem("adsClientId")}!function(t){var n=Date.now();!function(t){var n=document.createElement("style"),e=document.head||document.getElementsByTagName("head")[0];if(n.type="text/css",n.styleSheet){var o=function(){try{n.styleSheet.cssText=t}catch(t){}};n.styleSheet.disabled?setTimeout(o,10):o()}else{var a=document.createTextNode(t);n.appendChild(a)}e.appendChild(n)}("\n        .large_container_".concat(n," {\n            width: 100%;\n            height: auto;\n            position: relative;\n            padding: 0;\n            box-sizing: border-box;\n            border: 1px solid #e0e0e0;\n            background-color: #fff;\n            max-width:414px;\n            margin: 0 auto;\n            margin-top:3px;\n            margin-bottom:3px;\n        }\n        \n        .large_image_").concat(n," {\n            width:100%;\n            min-height: 100px;\n            border:0;\n            text-decoration: none;\n            background-color: #f0f0f0;\n            max-height:200px;\n            object-fit: cover;\n            display: block;\n        }\n        \n        .large_text_").concat(n," {\n            width: 100%;\n            padding: 10px;\n            box-sizing: border-box;\n            font-size: 16px;\n            line-height: 24px;\n            color: #333;\n            white-space: pre-line;\n        }\n        \n        .large_btn_").concat(n," {\n            width: calc(100% - 20px);\n            margin: 0 10px 10px 10px;\n            height:40px;\n            line-height: 40px;\n            border:0;\n            background-color: #000;\n            border-radius: 3px;\n            color:#fff;\n            font-size: 15px;\n            letter-spacing: 1px;\n        }\n    "));var a=document.querySelectorAll('[data-ads-type="large"][data-ads-load="false"]');Array.from(a).forEach((function(t,a){t.setAttribute("data-ads-load","true");var c=t.getAttribute("data-ads-id");e("/api/Ad/GetAdMaterialList",{adUnitId:t.getAttribute("data-ads-id"),host:location.host}).then((function(a){if(a&&200===a.code){var r=a.data[0];if(!r)return void t.remove();var d=r.id,l=!1;t.classList.add("large_container_".concat(n));var s=document.createElement(0===r.adMaterialType?"img":"video");s.classList.add("large_image_".concat(n)),s.src=r.adMaterialUrl,t.appendChild(s),"VIDEO"===s.tagName&&(s.muted=!0,s.preload=!0,s.playsinline=!0,s.autoplay=!0);var u=document.createElement("div");if(u.classList.add("large_text_".concat(n)),u.innerHTML=r.title,t.appendChild(u),r.adButtonName){var h=document.createElement("button");h.classList.add("large_btn_".concat(n)),t.appendChild(h),h.innerHTML=r.adButtonName}o(t,{only:!0,handle:function(){e("/api/Ad/EscalationExposure",{unitId:c,materialId:d,deviceCode:i(),sourceUrl:location.href}).then((function(){console.log("进入视窗",c,d)}))}}),t.addEventListener("click",(function(){l||e("/api/Ad/EscalationClick",{unitId:c,materialId:d,deviceCode:i(),sourceUrl:location.href}).then((function(){console.log("点击",c,d)})),l=!0,location.href=r.jumpUrl}))}}))}))}()}();
