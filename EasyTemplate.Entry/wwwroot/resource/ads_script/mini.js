!function(){"use strict";var t={};t.Request=class{constructor(t){this.url=t}async get(t){try{const e=await fetch(this.url+t);return await e.json()}catch(t){console.log(t)}}async post(t,e){try{const n=await fetch(this.url+t,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return await n}catch(t){console.log(t)}}async delete(t){try{const e=await fetch(this.url+t,{method:"DELETE"});return await e}catch(t){console.log(t)}}async put(t,e){try{const n=await fetch(this.url+t,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e)});return await n}catch(t){console.log(t)}}};var e=new t.Request("https://fgwuw.com");function n(t,n){return new Promise((function(i,o){e.post(t,n).then((function(t){i(t.json())})).catch((function(t){o(t)}))}))}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{only:!0,handle:function(){}},n=[];"string"==typeof t&&(t=document.querySelector(t)),t&&(o(t)&&!n.includes(t)&&(e.only&&n.push(t),e.handle()),function(t){var e=[document.body,window];function n(t){(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&e.push(t);for(var i=t.children||[],o=0;o<i.length;o++)n(i[o])}n(document.documentElement),e.forEach((function(e){e.addEventListener("scroll",(function(e){t()}))}))}((function(){o(t)&&!n.includes(t)&&(e.only&&n.push(t),e.handle())})))}function o(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function a(){return window.localStorage.getItem("adsClientId")||window.localStorage.setItem("adsClientId","xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))),window.localStorage.getItem("adsClientId")}!function(t){var e=Date.now();!function(t){var e=document.createElement("style"),n=document.head||document.getElementsByTagName("head")[0];if(e.type="text/css",e.styleSheet){var i=function(){try{e.styleSheet.cssText=t}catch(t){}};e.styleSheet.disabled?setTimeout(i,10):i()}else{var o=document.createTextNode(t);e.appendChild(o)}n.appendChild(e)}("\n        .mini-".concat(e," {\n            width:100%;\n            height:auto;\n            display:flex;\n            margin-top:5px;\n            margin-bottom:5px;\n        }\n        \n        .mini-image-").concat(e," {\n            width: 80px;\n            height: 57px;\n            object-fit:cover;\n            flex-shrink:0;\n        }\n        \n        .mini-text-").concat(e," {\n            margin-top: 4px;\n            margin-left:10px;\n            font-size: 16px;\n            line-height:20px;\n            display: -webkit-box; \n            -webkit-line-clamp: 2; \n            -webkit-box-orient: vertical; \n            overflow: hidden;\n            text-overflow: ellipsis;\n            height:40px;\n            white-space: pre-line;\n        }\n    "));var o=document.querySelectorAll('[data-ads-type="mini"][data-ads-load="false"]');Array.from(o).forEach((function(t){t.setAttribute("data-ads-load","true");var o=t.getAttribute("data-ads-id");n("/api/Ad/GetAdMaterialList",{adUnitId:t.getAttribute("data-ads-id"),host:location.host}).then((function(c){var l=c.data;l.forEach((function(c,d){var r=c.id,s=document.createElement("div"),u=!1;s.classList.add("mini-".concat(e)),t.appendChild(s);var h=document.createElement("img");h.classList.add("mini-image-".concat(e)),h.src=c.adMaterialUrl,s.appendChild(h);var m=document.createElement("div");if(m.classList.add("mini-text-".concat(e)),m.innerHTML=c.title,s.appendChild(m),d<l.length-1){var p=document.createElement("div");p.style="width:100%;height:1px;background:#f0f0f0;transform: scaleY(0.5);",t.appendChild(p)}i(s,{only:!0,handle:function(){n("/api/Ad/EscalationExposure",{unitId:o,materialId:r,deviceCode:a(),sourceUrl:location.href}).then((function(){console.log("进入视窗",o,r)}))}}),s.addEventListener("click",(function(){u||n("/api/Ad/EscalationClick",{unitId:o,materialId:r,deviceCode:a(),sourceUrl:location.href}).then((function(){console.log("点击",o,r)})),u=!0,location.href=c.jumpUrl}))}))}))}))}()}();
