!function(){"use strict";function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0;return("x"==t?n:3&n|8).toString(16)}))}function n(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{only:!0,handle:function(){}},o=[];"string"==typeof t&&(t=document.querySelector(t)),t&&(e(t)&&!o.includes(t)&&(n.only&&o.push(t),n.handle()),function(t){var n=[document.body,window];function e(t){(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&n.push(t);for(var o=t.children||[],i=0;i<o.length;i++)e(o[i])}e(document.documentElement),n.forEach((function(n){n.addEventListener("scroll",(function(n){t()}))}))}((function(){e(t)&&!o.includes(t)&&(n.only&&o.push(t),n.handle())})))}function e(t){var n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}var o={};o.Request=class{constructor(t){this.url=t}async get(t){try{const n=await fetch(this.url+t);return await n.json()}catch(t){console.log(t)}}async post(t,n){try{const e=await fetch(this.url+t,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});return await e}catch(t){console.log(t)}}async delete(t){try{const n=await fetch(this.url+t,{method:"DELETE"});return await n}catch(t){console.log(t)}}async put(t,n){try{const e=await fetch(this.url+t,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(n)});return await e}catch(t){console.log(t)}}};var i,a=new o.Request("https://fgwuw.com");function c(t,n){return new Promise((function(e,o){a.post(t,n).then((function(t){e(t.json())})).catch((function(t){o(t)}))}))}function d(){return window.localStorage.getItem("adsClientId")||window.localStorage.setItem("adsClientId",t()),window.localStorage.getItem("adsClientId")}i=Date.now(),function(t){var n=document.createElement("style"),e=document.head||document.getElementsByTagName("head")[0];if(n.type="text/css",n.styleSheet){var o=function(){try{n.styleSheet.cssText=t}catch(t){}};n.styleSheet.disabled?setTimeout(o,10):o()}else{var i=document.createTextNode(t);n.appendChild(i)}e.appendChild(n)}("\n        .popup_container_".concat(i," {\n            width: 90%;\n            height: auto;\n            position: relative;\n            padding: 0;\n            box-sizing: border-box;\n            background-color: #fff;\n            max-width: 414px;\n            border-radius: 5px;\n        }\n        \n        .popup_image_").concat(i," {\n            width:100%;\n            border:0;\n            text-decoration: none;\n            background-color: #f0f0f0;\n            height:200px;\n            object-fit: cover;\n            display: block;\n            border-radius: 5px 5px 0 0;\n        }\n        \n        .popup_text_").concat(i," {\n            width: 100%;\n            padding: 10px;\n            box-sizing: border-box;\n            font-size: 16px;\n            line-height: 24px;\n            color: #333;\n            white-space: pre-line;\n        }\n        \n        .popup_btn_").concat(i," {\n            width: calc(100% - 22px);\n            margin: 0 11px 12px 11px;\n            height:40px;\n            line-height: 40px;\n            border:0;\n            background-color: #000;\n            border-radius: 3px;\n            color:#fff;\n            font-size: 15px;\n            letter-spacing: 1px;\n        }\n        \n        .icon_").concat(i," {\n            width: 30px;\n            height:30px;\n            position: absolute;\n            left:calc(50% - 10px);\n            bottom:-40px;\n        }\n        \n    ")),document.querySelectorAll('[data-ads-type="popup"][data-ads-load="false"]').forEach((function(e,o){e.setAttribute("data-ads-load","true"),c("/api/Ad/GetAdMaterialList",{adUnitId:e.getAttribute("data-ads-id"),host:location.host}).then((function(o){var a=o.data[0];if(a){var l=a.id,r=!1,s=e.getAttribute("data-ads-id");e.classList.add("popup_container_".concat(i));var p=function(n){var e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){},l=t(),r=document.createElement("div");2===o?r.innerHTML=n:e="string"==typeof n?document.querySelector(n):n,4===o&&(e.style.position="absolute",e.style.bottom=-e.offsetHeight+"px",e.style.transition="0.3s");var s=!1;function p(){window.activePop||(window.activePop=[]),window.activePop.push(l),c&&(document.body.style.overflowY="hidden"),r.style.display="flex",setTimeout((function(){r.style.opacity="1",s=!0,e.style.bottom=0}),10)}function u(){if(4===o&&(e.style.bottom=-e.offsetHeight+"px"),window.activePop[window.activePop.length-1]===l){if(window.activePop.pop(),document.body.style.overflowY="auto",r.style.opacity="0",s=!1,1===o)try{closeNav()}catch(t){}setTimeout((function(){d(),r.style.display="none"}),300)}}return e?(r.appendChild(e),e.style.display="block",2===o&&(e.style.width="100%"),e.addEventListener("click",(function(t){t.stopPropagation()}))):Array.from(r.children).forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation()}))})),r.style="position:fixed;top: 0;left: 0;bottom:0;width: 100vw;z-index: 999999;display: none;opacity: 0;transition: 0.3s;align-items: center;justify-content: center;background: rgba(0,0,0,0.39);"+i,2!==o&&3!==o||(r.style.top="0"),document.body.appendChild(r),a&&r.addEventListener("click",(function(t){s&&(u(),s=!1),t.stopPropagation()})),{show:p,close:u,state:function(){return s},open:p,setClose:function(){if(document.body.style.overflowY="auto",r.style.opacity="0",s=!1,1===o)try{closeNav()}catch(t){}setTimeout((function(){d(),r.style.display="none"}),300)}}}(e,1,"z-index:9999999999",!1,!1),u=document.createElement("img");u.classList.add("popup_image_".concat(i)),u.src=a.adMaterialUrl,e.appendChild(u);var h=document.createElement("div");if(h.classList.add("popup_text_".concat(i)),h.innerHTML=a.title,e.appendChild(h),a.adButtonName){var f=document.createElement("button");f.classList.add("popup_btn_".concat(i)),e.appendChild(f),f.innerHTML=a.adButtonName}p.open(),n(e,{only:!0,handle:function(){c("/api/Ad/EscalationExposure",{unitId:s,materialId:l,deviceCode:d(),sourceUrl:location.href}).then((function(){console.log("进入视窗",s,l)}))}}),e.addEventListener("click",(function(){r||c("/api/Ad/EscalationClick",{unitId:s,materialId:l,deviceCode:d(),sourceUrl:location.href}).then((function(){console.log("点击",s,l)})),r=!0,location.href=a.jumpUrl}));var x=document.createElement("div");x.innerHTML='<svg t="1718851915980" class="icon_'.concat(i,'" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4438" width="100" height="100"><path d="M874.057143 149.942857a512 512 0 1 0 0 724.114286 512 512 0 0 0 0-724.114286zM687.908571 636.16a25.782857 25.782857 0 0 1 0 36.571429l-15.542857 15.542857a25.782857 25.782857 0 0 1-36.571428 0L512 563.748571l-124.16 124.16a25.782857 25.782857 0 0 1-36.571429 0l-15.542857-15.542857a25.782857 25.782857 0 0 1 0-36.571428L460.251429 512l-124.16-124.16a25.782857 25.782857 0 0 1 0-36.571429l15.542857-15.542857a25.782857 25.782857 0 0 1 36.571428 0L512 460.251429l124.16-124.16a25.782857 25.782857 0 0 1 36.571429 0l15.542857 15.542857a25.782857 25.782857 0 0 1 0 36.571428L563.748571 512z" fill="#ffffff" p-id="4439"></path></svg>'),e.appendChild(x),x.children[0].addEventListener("click",(function(t){p.setClose(),t.stopPropagation()}))}else e.remove()}))}))}();
